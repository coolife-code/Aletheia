# Aletheia 舆情鉴别系统 - 技术文档

## 一、AI 创新性说明

### 1.1 多 Agent 协作架构创新

**创新点**：突破传统单一模型判断模式，采用"方向判定 → 多角度分析 → 综合研判"的三层协作架构。

**具体实现**：
- **Direction Agent（方向判定 Agent）**：基于内容特征智能识别事件类型，动态激活 1-3 个最相关的角度 Agent
- **Angle Agents（角度 Agent 集群）**：15 个专业角度 Agent，每个专注特定分析维度（事实核查、时间线、利益相关方等）
- **Judgment Agent（综合研判 Agent）**：整合多角度报告，进行最终真实性判定

**创新性**：
- 模拟人类专家团队的协作模式
- 每个 Agent 有独立的提示词和专业知识
- 通过激活机制避免资源浪费，只分析相关角度

### 1.2 动态角度激活机制

**创新点**：不是固定分析所有角度，而是由 Direction Agent 根据内容特征智能选择。

**激活策略**：
```
突发事件 → 事实核查 + 时间线 + 利益相关方
政策解读 → 事实核查 + 背景语境 + 法律分析
科技新闻 → 事实核查 + 技术分析 + 数据验证
财经信息 → 事实核查 + 数据验证 + 经济分析
```

**优势**：
- 减少不必要的 API 调用，降低成本
- 提高分析效率，避免无关角度的干扰
- 每个激活都有明确的理由说明



### 1.3 溯源性与可解释性

**创新点**：不仅给出结论，还提供完整的推理链条和信源。

**溯源机制**：
- 每个角度 Agent 提供关键信源列表
- 信源包含可信度评估（高/中/低）
- 所有信源可点击访问原始链接

**可解释性**：
- Direction Agent 说明为什么选择这些角度
- 每个角度说明分析依据
- 最终结论综合各角度报告进行推理

---

## 二、系统架构

### 2.1 整体架构图

```
┌─────────────────────────────────────────────────────────────┐
│                        用户界面层                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │  输入框     │  │  分析按钮   │  │  流式输出显示区     │  │
│  └─────────────┘  └─────────────┘  └─────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                      核心调度层 (System)                     │
│                    AletheiaSystem 类                         │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │ Direction   │  │  Angle      │  │  Judgment           │  │
│  │ Agent       │─►│  Agents     │─►│  Agent              │  │
│  │ (方向判定)  │  │  (15个角度) │  │  (综合研判)         │  │
│  └─────────────┘  └─────────────┘  └─────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                      LLM 接口层                              │
│              OpenAI API / DashScope API                      │
│                     DeepSeek 模型                            │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 模块说明

#### 2.2.1 Agent 模块 (`aletheia/agents/`)

**Base Agent (`base.py`)**：
- 所有 Agent 的基类
- 提供统一的 LLM 调用接口
- 定义标准的数据结构（DirectionResult, AngleReport, JudgmentResult）

**Direction Agent (`direction.py`)**：
- 分析内容特征，识别事件类型
- 决定激活哪些角度 Agent（最多 3 个）
- 输出详细的推理过程

**Angle Agents (`angles/` 目录)**：
- 15 个独立的角度 Agent，每个一个文件
- 每个 Agent 有专门的提示词和分析维度
- 并行执行，互不干扰

**Judgment Agent (`judgment.py`)**：
- 收集所有角度报告
- 进行综合分析
- 输出最终结论和置信度

#### 2.2.2 核心配置模块 (`aletheia/core/`)

**Config (`config.py`)**：
- 环境变量管理
- API 密钥和模型配置
- 使用 Pydantic 进行配置验证

#### 2.2.3 前端界面 (`app.py`)

**Gradio 界面**：
- 四部分布局：分析方向、多角度调查、最终结论、信源列表
- 流式输出支持
- 下拉框切换角度

### 2.3 数据流

```
用户输入
    │
    ▼
┌──────────────┐
│ Direction    │ ──► 推理过程（打字机效果）
│ Agent        │ ──► 事件类型、激活角度
└──────────────┘
    │
    ▼
┌──────────────┐
│ Angle Agents │ ──► 并行分析（串行显示打字效果）
│ (1-3个)      │ ──► 角度报告、置信度、信源
└──────────────┘
    │
    ▼
┌──────────────┐
│ Judgment     │ ──► 最终结论（打字机效果）
│ Agent        │ ──► 置信度、摘要、详细研判
└──────────────┘
    │
    ▼
┌──────────────┐
│ 信源汇总      │ ──► 卡片式信源列表
└──────────────┘
```

---

## 三、研究框架设计

### 3.1 研究目标

**核心问题**：如何利用多 Agent 协作架构提高舆情内容真实性鉴别的准确性和可解释性？

**研究目标**：
1. 构建可扩展的多 Agent 舆情鉴别系统
2. 实现动态角度激活机制，提高分析效率
3. 提供完整的溯源链条，增强可解释性
4. 优化用户体验，实现流式输出

### 3.2 技术路线

#### 阶段一：基础架构搭建
- 设计 Agent 基类和统一接口
- 实现 Direction Agent 的方向判定能力
- 开发 15 个专业角度 Agent

#### 阶段二：协作机制优化
- 实现 Agent 间的数据传递
- 开发动态角度激活算法
- 构建综合研判逻辑

#### 阶段三：用户体验优化
- 实现流式打字机效果
- 设计直观的可视化界面
- 优化信源展示方式

#### 阶段四：评估与迭代
- 构建测试数据集
- 评估鉴别准确性
- 收集用户反馈，持续优化

### 3.3 关键技术

| 技术 | 应用场景 | 创新点 |
|------|---------|--------|
| Multi-Agent System | 多角度协作分析 | 动态激活，按需分析 |
| Prompt Engineering | Agent 提示词设计 | 每个 Agent 专业化 |
| Async Programming | 并行角度分析 | 提高效率 |
| Structured Output | 数据格式化 | JSON 结构化输出 |

### 3.4 评估指标

**准确性指标**：
- 真实性判断准确率
- 置信度校准度
- 误报率 / 漏报率

**效率指标**：
- 平均分析时间
- API 调用次数
- 并发处理能力

**可解释性指标**：
- 推理过程清晰度
- 信源覆盖率
- 用户理解度评分

### 3.5 应用场景

1. **新闻媒体**：快速核实突发新闻真实性
2. **社交平台**：识别和标记虚假信息
3. **政府机构**：舆情监测和危机预警
4. **企业公关**：品牌声誉管理和谣言澄清
5. **个人用户**：日常信息鉴别工具

---

## 四、项目结构

```
aletheia/
├── aletheia/                      # 核心代码
│   ├── agents/                    # Agent 模块
│   │   ├── angles/                # 15个角度 Agent
│   │   │   ├── core_fact_checker.py
│   │   │   ├── timeline_builder.py
│   │   │   ├── stakeholder_mapper.py
│   │   │   └── ... (共15个)
│   │   ├── base.py                # Agent 基类
│   │   ├── direction.py           # 方向判定 Agent
│   │   └── judgment.py            # 综合研判 Agent
│   ├── core/                      # 核心配置
│   │   └── config.py              # 配置管理
│   ├── utils/                     # 工具函数
│   │   └── helpers.py
│   └── system.py                  # 系统调度器
├── app.py                         # Gradio 前端
├── .env                           # 环境变量
├── requirements.txt               # 依赖
└── PROJECT_DOCUMENTATION.md       # 本文档
```

---

## 五、未来展望

### 5.1 短期优化
- 增加更多专业角度 Agent（如医学、法律等）
- 优化提示词，提高分析质量
- 添加历史记录功能

### 5.2 中期发展
- 支持多语言内容鉴别
- 集成搜索引擎，自动获取相关信源
- 开发浏览器插件版本

### 5.3 长期愿景
- 构建众包验证机制
- 建立信源可信度数据库
- 成为开源社区的标准舆情鉴别工具

---

**文档版本**：v1.0  
**创建日期**：2026-02-09  
**作者**：Aletheia 开发团队
